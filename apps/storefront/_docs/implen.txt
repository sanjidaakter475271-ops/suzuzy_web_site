ğŸï¸ ROYALCONSORTIUM - BIKE SHOWROOM
Complete Blueprint, PRD & Implementation Plan
ğŸ“‹ PART 1: PROJECT BLUEPRINT
1.1 Project Summary
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ROYALCONSORTIUM                              â”‚
â”‚              Multi-Dealer Bike Showroom Platform                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Platform Type    : Multi-Vendor Marketplace                    â”‚
â”‚  Business Model   : Dealer Subscription + Commission            â”‚
â”‚  Industry         : Motorcycle/Bike Sales                       â”‚
â”‚  Tech Stack       : Next.js + Supabase                          â”‚
â”‚  Payment Gateway  : bKash                                       â”‚
â”‚  Phase-1          : Web Application                             â”‚
â”‚  Phase-2          : Android Application (Future)                â”‚
â”‚  Currency         : BDT (Bangladeshi Taka)                      â”‚
â”‚  Timezone         : Asia/Dhaka                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
1.2 System Architecture
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FRONTEND (Next.js 14)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Super Admin   â”‚     Admin      â”‚    Dealer      â”‚    Public Website     â”‚
â”‚    Portal      â”‚    Portal      â”‚    Portal      â”‚   (Product Catalog)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                â”‚                â”‚                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         API LAYER (Next.js API Routes)                   â”‚
â”‚                    + Supabase Edge Functions                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                         â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SUPABASE    â”‚       â”‚    SUPABASE     â”‚       â”‚    EXTERNAL     â”‚
â”‚   Database    â”‚       â”‚     Auth        â”‚       â”‚    SERVICES     â”‚
â”‚  (PostgreSQL) â”‚       â”‚   + RLS         â”‚       â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ users       â”‚       â”‚ â€¢ Email/Pass    â”‚       â”‚ â€¢ bKash API     â”‚
â”‚ â€¢ dealers     â”‚       â”‚ â€¢ Role-based    â”‚       â”‚ â€¢ SMS Gateway   â”‚
â”‚ â€¢ products    â”‚       â”‚ â€¢ Session mgmt  â”‚       â”‚ â€¢ Email Service â”‚
â”‚ â€¢ orders      â”‚       â”‚ â€¢ MFA (optional)â”‚       â”‚ â€¢ Cloud Storage â”‚
â”‚ â€¢ payments    â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â€¢ audit_logs  â”‚
â”‚ â€¢ ...         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
1.3 Tech Stack Details
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        TECH STACK                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ FRONTEND         â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Framework        â”‚ Next.js 14 (App Router)                      â”‚
â”‚ Language         â”‚ TypeScript                                   â”‚
â”‚ Styling          â”‚ Tailwind CSS                                 â”‚
â”‚ UI Components    â”‚ Shadcn/ui                                    â”‚
â”‚ State Management â”‚ Zustand / React Query                        â”‚
â”‚ Forms            â”‚ React Hook Form + Zod                        â”‚
â”‚ Tables           â”‚ TanStack Table                               â”‚
â”‚ Charts           â”‚ Recharts                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ BACKEND          â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ BaaS             â”‚ Supabase                                     â”‚
â”‚ Database         â”‚ PostgreSQL (Supabase)                        â”‚
â”‚ Authentication   â”‚ Supabase Auth                                â”‚
â”‚ File Storage     â”‚ Supabase Storage                             â”‚
â”‚ Edge Functions   â”‚ Supabase Edge Functions (Deno)               â”‚
â”‚ Realtime         â”‚ Supabase Realtime                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ INTEGRATIONS     â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Payment          â”‚ bKash Payment Gateway                        â”‚
â”‚ SMS              â”‚ SSL Wireless / Twilio                        â”‚
â”‚ Email            â”‚ Resend / SendGrid                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DEPLOYMENT       â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Hosting          â”‚ Vercel                                       â”‚
â”‚ Domain           â”‚ Custom Domain                                â”‚
â”‚ CDN              â”‚ Vercel Edge Network                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
1.4 User Role Hierarchy
text

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   SUPER ADMIN   â”‚
                    â”‚  (System Owner) â”‚
                    â”‚  Full Control   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼                 â–¼                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    ADMIN    â”‚   â”‚   SUPPORT   â”‚   â”‚   VIEWER/   â”‚
    â”‚ (Operations)â”‚   â”‚  (Helpdesk) â”‚   â”‚ ACCOUNTANT  â”‚
    â”‚             â”‚   â”‚             â”‚   â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           DEALER                â”‚
    â”‚    (Vendor/Showroom Owner)      â”‚
    â”‚                                 â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  Manager  â”‚ â”‚   Staff   â”‚   â”‚
    â”‚  â”‚(Sub-user) â”‚ â”‚(Sub-user) â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
1.5 Data Flow Diagram
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MAIN BUSINESS FLOWS                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. DEALER ONBOARDING FLOW:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dealer  â”‚â”€â”€â”€â–¶â”‚ Register â”‚â”€â”€â”€â–¶â”‚  Admin   â”‚â”€â”€â”€â–¶â”‚  Active  â”‚
â”‚  Apply   â”‚    â”‚ (Pending)â”‚    â”‚ Approve  â”‚    â”‚  Dealer  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ Subscribeâ”‚
                               â”‚  to Plan â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. PRODUCT LISTING FLOW:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dealer  â”‚â”€â”€â”€â–¶â”‚  Submit  â”‚â”€â”€â”€â–¶â”‚  Admin   â”‚â”€â”€â”€â–¶â”‚  Live on â”‚
â”‚Add Bike  â”‚    â”‚ (Pending)â”‚    â”‚ Approve  â”‚    â”‚ Platform â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. ORDER & PAYMENT FLOW:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Customer â”‚â”€â”€â”€â–¶â”‚  Create  â”‚â”€â”€â”€â–¶â”‚  bKash   â”‚â”€â”€â”€â–¶â”‚  Order   â”‚
â”‚  Order   â”‚    â”‚  Order   â”‚    â”‚ Payment  â”‚    â”‚   PAID   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                      â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Processingâ”‚â”€â”€â”€â–¶â”‚ Shipped  â”‚â”€â”€â”€â–¶â”‚Delivered â”‚
â”‚          â”‚    â”‚          â”‚    â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ğŸ“„ PART 2: PRODUCT REQUIREMENTS DOCUMENT (PRD)
2.1 Executive Summary
Item	Description
Product Name	RoyalConsortium - Bike Showroom Platform
Product Type	B2B2C Multi-Vendor Marketplace
Target Market	Bangladesh Motorcycle Industry
Primary Users	Bike Dealers, Showroom Owners
End Users	Motorcycle Buyers
Business Model	Subscription + Commission
MVP Timeline	12-16 Weeks
2.2 Problem Statement
text

à¦¬à¦¾à¦‚à¦²à¦¾à¦¦à§‡à¦¶à§‡ à¦¬à¦¾à¦‡à¦• à¦¶à§‹à¦°à§à¦® à¦®à¦¾à¦²à¦¿à¦•à¦¦à§‡à¦° à¦œà¦¨à§à¦¯ à¦à¦•à¦Ÿà¦¿ centralized platform à¦¨à§‡à¦‡ à¦¯à§‡à¦–à¦¾à¦¨à§‡:
- Multiple dealers à¦à¦•à¦¸à¦¾à¦¥à§‡ à¦¤à¦¾à¦¦à§‡à¦° bikes showcase à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à§‡
- Customers easily compare à¦à¦¬à¦‚ purchase à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à§‡
- Dealers à¦¤à¦¾à¦¦à§‡à¦° orders à¦à¦¬à¦‚ inventory manage à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à§‡
- Secure online payment (bKash) à¦•à¦°à¦¾ à¦¯à¦¾à¦¯à¦¼

RoyalConsortium à¦à¦‡ à¦¸à¦®à¦¸à§à¦¯à¦¾à¦° à¦¸à¦®à¦¾à¦§à¦¾à¦¨ à¦•à¦°à¦¬à§‡à¥¤
2.3 User Personas
Persona 1: Super Admin (à¦†à¦ªà¦¨à¦¿ - Platform Owner)
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Name: Platform Owner                                       â”‚
â”‚  Role: Super Admin                                          â”‚
â”‚  Goals:                                                     â”‚
â”‚    â€¢ Platform à¦à¦° à¦¸à¦¬ à¦•à¦¿à¦›à§ control à¦•à¦°à¦¾                        â”‚
â”‚    â€¢ Revenue monitor à¦•à¦°à¦¾                                    â”‚
â”‚    â€¢ Dealers manage à¦•à¦°à¦¾                                     â”‚
â”‚    â€¢ Security ensure à¦•à¦°à¦¾                                    â”‚
â”‚  Pain Points:                                               â”‚
â”‚    â€¢ Real-time data à¦¨à¦¾ à¦ªà¦¾à¦“à¦¯à¦¼à¦¾                                â”‚
â”‚    â€¢ Manual dealer management                               â”‚
â”‚    â€¢ Payment tracking difficult                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Persona 2: Dealer (Showroom Owner)
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Name: Rahim Motors                                         â”‚
â”‚  Role: Dealer                                               â”‚
â”‚  Goals:                                                     â”‚
â”‚    â€¢ Online presence à¦¤à§ˆà¦°à¦¿ à¦•à¦°à¦¾                               â”‚
â”‚    â€¢ More customers à¦ªà¦¾à¦“à¦¯à¦¼à¦¾                                   â”‚
â”‚    â€¢ Easy order management                                  â”‚
â”‚    â€¢ Payment à¦¸à¦¹à¦œà§‡ receive à¦•à¦°à¦¾                              â”‚
â”‚  Pain Points:                                               â”‚
â”‚    â€¢ No online platform                                     â”‚
â”‚    â€¢ Manual order tracking                                  â”‚
â”‚    â€¢ Customer trust issue                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Persona 3: Customer (Bike Buyer)
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Name: Karim (Potential Buyer)                              â”‚
â”‚  Role: Customer                                             â”‚
â”‚  Goals:                                                     â”‚
â”‚    â€¢ Best bike best price à¦–à§à¦à¦œà§‡ à¦ªà¦¾à¦“à¦¯à¦¼à¦¾                       â”‚
â”‚    â€¢ Multiple dealers compare à¦•à¦°à¦¾                          â”‚
â”‚    â€¢ Secure payment à¦•à¦°à¦¾                                     â”‚
â”‚    â€¢ Order track à¦•à¦°à¦¾                                        â”‚
â”‚  Pain Points:                                               â”‚
â”‚    â€¢ à¦¬à¦¿à¦­à¦¿à¦¨à§à¦¨ showroom à¦¯à§‡à¦¤à§‡ à¦¹à¦¯à¦¼                               â”‚
â”‚    â€¢ Price comparison à¦•à¦ à¦¿à¦¨                                  â”‚
â”‚    â€¢ Trust issue with new dealers                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2.4 Feature Requirements (Detailed)
MODULE 1: Authentication & Authorization
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AUTHENTICATION MODULE                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  AUTH-001: User Registration                                    â”‚
â”‚  â”œâ”€â”€ Email + Password registration                              â”‚
â”‚  â”œâ”€â”€ Phone number (optional)                                    â”‚
â”‚  â”œâ”€â”€ Email verification required                                â”‚
â”‚  â””â”€â”€ Role assignment (by admin)                                 â”‚
â”‚                                                                 â”‚
â”‚  AUTH-002: Login System                                         â”‚
â”‚  â”œâ”€â”€ Email + Password login                                     â”‚
â”‚  â”œâ”€â”€ Remember me option                                         â”‚
â”‚  â”œâ”€â”€ Login attempt rate limiting (5 attempts/15 min)            â”‚
â”‚  â””â”€â”€ Failed login notification                                  â”‚
â”‚                                                                 â”‚
â”‚  AUTH-003: Password Management                                  â”‚
â”‚  â”œâ”€â”€ Minimum 8 characters                                       â”‚
â”‚  â”œâ”€â”€ Must include: uppercase, lowercase, number                 â”‚
â”‚  â”œâ”€â”€ Password reset via email                                   â”‚
â”‚  â””â”€â”€ Password change (requires old password)                    â”‚
â”‚                                                                 â”‚
â”‚  AUTH-004: Multi-Factor Authentication (MFA)                    â”‚
â”‚  â”œâ”€â”€ Optional for Admin/Dealer                                  â”‚
â”‚  â”œâ”€â”€ MANDATORY for Super Admin                                  â”‚
â”‚  â”œâ”€â”€ TOTP-based (Google Authenticator)                          â”‚
â”‚  â””â”€â”€ Backup codes provided                                      â”‚
â”‚                                                                 â”‚
â”‚  AUTH-005: Session Management                                   â”‚
â”‚  â”œâ”€â”€ JWT tokens via Supabase                                    â”‚
â”‚  â”œâ”€â”€ Session timeout: 24 hours                                  â”‚
â”‚  â”œâ”€â”€ Single/Multi device session (configurable)                 â”‚
â”‚  â””â”€â”€ Force logout capability (Admin)                            â”‚
â”‚                                                                 â”‚
â”‚  AUTH-006: Role-Based Access Control (RBAC)                     â”‚
â”‚  â”œâ”€â”€ Permission-based access                                    â”‚
â”‚  â”œâ”€â”€ Row Level Security (RLS) in Supabase                       â”‚
â”‚  â”œâ”€â”€ Frontend route protection                                  â”‚
â”‚  â””â”€â”€ API endpoint protection                                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
MODULE 2: Super Admin Panel
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SUPER ADMIN MODULE                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  SA-001: Dashboard                                              â”‚
â”‚  â”œâ”€â”€ Total Dealers (Active/Pending/Suspended)                   â”‚
â”‚  â”œâ”€â”€ Total Products Listed                                      â”‚
â”‚  â”œâ”€â”€ Today's Orders / This Month's Orders                       â”‚
â”‚  â”œâ”€â”€ Total Revenue (Platform)                                   â”‚
â”‚  â”œâ”€â”€ Subscription Income                                        â”‚
â”‚  â”œâ”€â”€ Commission Income                                          â”‚
â”‚  â”œâ”€â”€ Recent Activities                                          â”‚
â”‚  â”œâ”€â”€ Critical Alerts                                            â”‚
â”‚  â””â”€â”€ Quick Action Buttons                                       â”‚
â”‚                                                                 â”‚
â”‚  SA-002: User & Role Management                                 â”‚
â”‚  â”œâ”€â”€ Create Admin accounts                                      â”‚
â”‚  â”œâ”€â”€ Create Support accounts                                    â”‚
â”‚  â”œâ”€â”€ Create Viewer/Accountant accounts                          â”‚
â”‚  â”œâ”€â”€ Assign/Modify roles                                        â”‚
â”‚  â”œâ”€â”€ Disable/Enable accounts                                    â”‚
â”‚  â”œâ”€â”€ Reset user passwords                                       â”‚
â”‚  â””â”€â”€ View user activity logs                                    â”‚
â”‚                                                                 â”‚
â”‚  SA-003: Permission Matrix                                      â”‚
â”‚  â”œâ”€â”€ Define custom roles                                        â”‚
â”‚  â”œâ”€â”€ Granular permission control                                â”‚
â”‚  â”‚   â”œâ”€â”€ Module-level access                                    â”‚
â”‚  â”‚   â”œâ”€â”€ Action-level access (Create/Read/Update/Delete)        â”‚
â”‚  â”‚   â””â”€â”€ Data-level access (Own/All)                            â”‚
â”‚  â””â”€â”€ Permission templates                                       â”‚
â”‚                                                                 â”‚
â”‚  SA-004: Dealer Management                                      â”‚
â”‚  â”œâ”€â”€ View all dealer applications                               â”‚
â”‚  â”œâ”€â”€ Approve/Reject dealers                                     â”‚
â”‚  â”œâ”€â”€ Suspend/Reactivate dealers                                 â”‚
â”‚  â”œâ”€â”€ Override dealer limits                                     â”‚
â”‚  â”œâ”€â”€ View dealer performance metrics                            â”‚
â”‚  â”œâ”€â”€ Dealer audit logs                                          â”‚
â”‚  â””â”€â”€ Dealer communication history                               â”‚
â”‚                                                                 â”‚
â”‚  SA-005: Subscription & Plan Management                         â”‚
â”‚  â”œâ”€â”€ Create subscription plans                                  â”‚
â”‚  â”‚   â”œâ”€â”€ Plan Name                                              â”‚
â”‚  â”‚   â”œâ”€â”€ Monthly Price                                          â”‚
â”‚  â”‚   â”œâ”€â”€ Yearly Price                                           â”‚
â”‚  â”‚   â”œâ”€â”€ Trial Days                                             â”‚
â”‚  â”‚   â”œâ”€â”€ Product Limit                                          â”‚
â”‚  â”‚   â”œâ”€â”€ Sub-user Limit                                         â”‚
â”‚  â”‚   â”œâ”€â”€ Features included                                      â”‚
â”‚  â”‚   â””â”€â”€ Commission Rate                                        â”‚
â”‚  â”œâ”€â”€ Edit/Disable plans                                         â”‚
â”‚  â”œâ”€â”€ Assign plan to dealer                                      â”‚
â”‚  â”œâ”€â”€ Change dealer's plan                                       â”‚
â”‚  â”œâ”€â”€ Force expire subscription                                  â”‚
â”‚  â”œâ”€â”€ Extend subscription                                        â”‚
â”‚  â””â”€â”€ Subscription reports                                       â”‚
â”‚                                                                 â”‚
â”‚  SA-006: Commission Management                                  â”‚
â”‚  â”œâ”€â”€ Set global commission rate                                 â”‚
â”‚  â”œâ”€â”€ Set plan-specific commission                               â”‚
â”‚  â”œâ”€â”€ Set dealer-specific commission                             â”‚
â”‚  â”œâ”€â”€ Commission types:                                          â”‚
â”‚  â”‚   â”œâ”€â”€ Percentage (e.g., 5%)                                  â”‚
â”‚  â”‚   â”œâ”€â”€ Fixed (e.g., à§³500 per order)                           â”‚
â”‚  â”‚   â””â”€â”€ Hybrid (à§³200 + 2%)                                     â”‚
â”‚  â””â”€â”€ Commission reports                                         â”‚
â”‚                                                                 â”‚
â”‚  SA-007: Payment & Finance                                      â”‚
â”‚  â”œâ”€â”€ bKash gateway configuration                                â”‚
â”‚  â”œâ”€â”€ Enable/Disable payment gateway                             â”‚
â”‚  â”œâ”€â”€ View all transactions                                      â”‚
â”‚  â”œâ”€â”€ Transaction search & filter                                â”‚
â”‚  â”œâ”€â”€ Refund approval queue                                      â”‚
â”‚  â”œâ”€â”€ Process refunds                                            â”‚
â”‚  â”œâ”€â”€ Settlement reports                                         â”‚
â”‚  â”œâ”€â”€ Revenue reports                                            â”‚
â”‚  â””â”€â”€ Export financial data                                      â”‚
â”‚                                                                 â”‚
â”‚  SA-008: Platform Settings                                      â”‚
â”‚  â”œâ”€â”€ General Settings                                           â”‚
â”‚  â”‚   â”œâ”€â”€ Platform name                                          â”‚
â”‚  â”‚   â”œâ”€â”€ Logo upload                                            â”‚
â”‚  â”‚   â”œâ”€â”€ Favicon                                                â”‚
â”‚  â”‚   â”œâ”€â”€ Currency (BDT - fixed)                                 â”‚
â”‚  â”‚   â””â”€â”€ Timezone (Asia/Dhaka - fixed)                          â”‚
â”‚  â”œâ”€â”€ Invoice Settings                                           â”‚
â”‚  â”‚   â”œâ”€â”€ Invoice prefix                                         â”‚
â”‚  â”‚   â”œâ”€â”€ Invoice starting number                                â”‚
â”‚  â”‚   â””â”€â”€ Invoice footer text                                    â”‚
â”‚  â”œâ”€â”€ Feature Flags                                              â”‚
â”‚  â”‚   â”œâ”€â”€ Enable/Disable Wallet                                  â”‚
â”‚  â”‚   â”œâ”€â”€ Enable/Disable Reviews                                 â”‚
â”‚  â”‚   â”œâ”€â”€ Enable/Disable Wishlist                                â”‚
â”‚  â”‚   â””â”€â”€ Enable/Disable Chat                                    â”‚
â”‚  â”œâ”€â”€ Notification Templates                                     â”‚
â”‚  â”‚   â”œâ”€â”€ Email templates                                        â”‚
â”‚  â”‚   â””â”€â”€ SMS templates                                          â”‚
â”‚  â””â”€â”€ Maintenance Mode                                           â”‚
â”‚                                                                 â”‚
â”‚  SA-009: Audit Logs                                             â”‚
â”‚  â”œâ”€â”€ Immutable log storage                                      â”‚
â”‚  â”œâ”€â”€ Track all critical actions:                                â”‚
â”‚  â”‚   â”œâ”€â”€ Login/Logout                                           â”‚
â”‚  â”‚   â”œâ”€â”€ Role changes                                           â”‚
â”‚  â”‚   â”œâ”€â”€ Permission changes                                     â”‚
â”‚  â”‚   â”œâ”€â”€ Dealer approval/suspension                             â”‚
â”‚  â”‚   â”œâ”€â”€ Payment config changes                                 â”‚
â”‚  â”‚   â”œâ”€â”€ Refund approvals                                       â”‚
â”‚  â”‚   â””â”€â”€ Settings changes                                       â”‚
â”‚  â”œâ”€â”€ Log details:                                               â”‚
â”‚  â”‚   â”œâ”€â”€ Timestamp                                              â”‚
â”‚  â”‚   â”œâ”€â”€ User ID                                                â”‚
â”‚  â”‚   â”œâ”€â”€ User Role                                              â”‚
â”‚  â”‚   â”œâ”€â”€ Action type                                            â”‚
â”‚  â”‚   â”œâ”€â”€ Target entity                                          â”‚
â”‚  â”‚   â”œâ”€â”€ Old value                                              â”‚
â”‚  â”‚   â”œâ”€â”€ New value                                              â”‚
â”‚  â”‚   â”œâ”€â”€ IP address                                             â”‚
â”‚  â”‚   â””â”€â”€ User agent                                             â”‚
â”‚  â”œâ”€â”€ Search & filter logs                                       â”‚
â”‚  â””â”€â”€ Export audit evidence                                      â”‚
â”‚                                                                 â”‚
â”‚  SA-010: Emergency Controls                                     â”‚
â”‚  â”œâ”€â”€ Freeze specific dealer                                     â”‚
â”‚  â”œâ”€â”€ Freeze all payments                                        â”‚
â”‚  â”œâ”€â”€ Enable maintenance mode                                    â”‚
â”‚  â”œâ”€â”€ Force logout all users                                     â”‚
â”‚  â””â”€â”€ Generate incident report                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
MODULE 3: Admin Panel
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ADMIN MODULE                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ADMIN-001: Dashboard                                           â”‚
â”‚  â”œâ”€â”€ Pending dealer approvals                                   â”‚
â”‚  â”œâ”€â”€ Pending product approvals                                  â”‚
â”‚  â”œâ”€â”€ Today's orders                                             â”‚
â”‚  â”œâ”€â”€ Orders needing attention                                   â”‚
â”‚  â””â”€â”€ Quick stats                                                â”‚
â”‚                                                                 â”‚
â”‚  ADMIN-002: Dealer Management                                   â”‚
â”‚  â”œâ”€â”€ View dealer list                                           â”‚
â”‚  â”œâ”€â”€ Approve pending dealers                                    â”‚
â”‚  â”œâ”€â”€ View dealer details                                        â”‚
â”‚  â”œâ”€â”€ View dealer products                                       â”‚
â”‚  â”œâ”€â”€ View dealer orders                                         â”‚
â”‚  â””â”€â”€ Contact dealer                                             â”‚
â”‚                                                                 â”‚
â”‚  ADMIN-003: Product Management                                  â”‚
â”‚  â”œâ”€â”€ Category management                                        â”‚
â”‚  â”‚   â”œâ”€â”€ Create category                                        â”‚
â”‚  â”‚   â”œâ”€â”€ Edit category                                          â”‚
â”‚  â”‚   â”œâ”€â”€ Delete category (if no products)                       â”‚
â”‚  â”‚   â””â”€â”€ Category hierarchy                                     â”‚
â”‚  â”œâ”€â”€ Brand management                                           â”‚
â”‚  â”‚   â”œâ”€â”€ Create brand                                           â”‚
â”‚  â”‚   â”œâ”€â”€ Edit brand                                             â”‚
â”‚  â”‚   â””â”€â”€ Brand logo upload                                      â”‚
â”‚  â”œâ”€â”€ Product approval queue                                     â”‚
â”‚  â”œâ”€â”€ Approve/Reject products                                    â”‚
â”‚  â”œâ”€â”€ View all products                                          â”‚
â”‚  â””â”€â”€ Block/Unblock products                                     â”‚
â”‚                                                                 â”‚
â”‚  ADMIN-004: Order Management                                    â”‚
â”‚  â”œâ”€â”€ View all orders                                            â”‚
â”‚  â”œâ”€â”€ Filter by status/dealer/date                               â”‚
â”‚  â”œâ”€â”€ Order details view                                         â”‚
â”‚  â”œâ”€â”€ Order timeline                                             â”‚
â”‚  â””â”€â”€ Refund request handling                                    â”‚
â”‚                                                                 â”‚
â”‚  ADMIN-005: Reports (View Only)                                 â”‚
â”‚  â”œâ”€â”€ Order reports                                              â”‚
â”‚  â”œâ”€â”€ Dealer performance                                         â”‚
â”‚  â””â”€â”€ Product analytics                                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
MODULE 4: Dealer Panel
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DEALER MODULE                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  DEALER-001: Registration & Onboarding                          â”‚
â”‚  â”œâ”€â”€ Dealer registration form                                   â”‚
â”‚  â”‚   â”œâ”€â”€ Business name                                          â”‚
â”‚  â”‚   â”œâ”€â”€ Owner name                                             â”‚
â”‚  â”‚   â”œâ”€â”€ Email                                                  â”‚
â”‚  â”‚   â”œâ”€â”€ Phone                                                  â”‚
â”‚  â”‚   â”œâ”€â”€ Business address                                       â”‚
â”‚  â”‚   â”œâ”€â”€ Trade license number                                   â”‚
â”‚  â”‚   â”œâ”€â”€ Trade license upload                                   â”‚
â”‚  â”‚   â””â”€â”€ Bank/bKash details                                     â”‚
â”‚  â”œâ”€â”€ Email verification                                         â”‚
â”‚  â”œâ”€â”€ Wait for approval                                          â”‚
â”‚  â””â”€â”€ Approval notification                                      â”‚
â”‚                                                                 â”‚
â”‚  DEALER-002: Dashboard                                          â”‚
â”‚  â”œâ”€â”€ Subscription status                                        â”‚
â”‚  â”œâ”€â”€ Total products                                             â”‚
â”‚  â”œâ”€â”€ Today's orders                                             â”‚
â”‚  â”œâ”€â”€ Pending orders                                             â”‚
â”‚  â”œâ”€â”€ This month's revenue                                       â”‚
â”‚  â”œâ”€â”€ Recent orders                                              â”‚
â”‚  â””â”€â”€ Notifications                                              â”‚
â”‚                                                                 â”‚
â”‚  DEALER-003: Subscription Management                            â”‚
â”‚  â”œâ”€â”€ View current plan                                          â”‚
â”‚  â”œâ”€â”€ View plan limits                                           â”‚
â”‚  â”œâ”€â”€ Upgrade/Downgrade request                                  â”‚
â”‚  â”œâ”€â”€ Subscription history                                       â”‚
â”‚  â””â”€â”€ Payment history                                            â”‚
â”‚                                                                 â”‚
â”‚  DEALER-004: Product Management                                 â”‚
â”‚  â”œâ”€â”€ Add new bike                                               â”‚
â”‚  â”‚   â”œâ”€â”€ Bike name/title                                        â”‚
â”‚  â”‚   â”œâ”€â”€ Brand (from list)                                      â”‚
â”‚  â”‚   â”œâ”€â”€ Category (from list)                                   â”‚
â”‚  â”‚   â”œâ”€â”€ Model year                                             â”‚
â”‚  â”‚   â”œâ”€â”€ Engine CC                                              â”‚
â”‚  â”‚   â”œâ”€â”€ Mileage                                                â”‚
â”‚  â”‚   â”œâ”€â”€ Price                                                  â”‚
â”‚  â”‚   â”œâ”€â”€ Discount (optional)                                    â”‚
â”‚  â”‚   â”œâ”€â”€ Description                                            â”‚
â”‚  â”‚   â”œâ”€â”€ Features                                               â”‚
â”‚  â”‚   â”œâ”€â”€ Colors available                                       â”‚
â”‚  â”‚   â”œâ”€â”€ Images (multiple)                                      â”‚
â”‚  â”‚   â”œâ”€â”€ Stock quantity                                         â”‚
â”‚  â”‚   â””â”€â”€ Condition (New/Used)                                   â”‚
â”‚  â”œâ”€â”€ Edit product                                               â”‚
â”‚  â”œâ”€â”€ Delete product                                             â”‚
â”‚  â”œâ”€â”€ Product list view                                          â”‚
â”‚  â”œâ”€â”€ Stock management                                           â”‚
â”‚  â””â”€â”€ Product status tracking                                    â”‚
â”‚                                                                 â”‚
â”‚  DEALER-005: Order Management                                   â”‚
â”‚  â”œâ”€â”€ View orders (own only)                                     â”‚
â”‚  â”œâ”€â”€ Order status update                                        â”‚
â”‚  â”‚   â”œâ”€â”€ Accept order                                           â”‚
â”‚  â”‚   â”œâ”€â”€ Mark as processing                                     â”‚
â”‚  â”‚   â”œâ”€â”€ Mark as shipped                                        â”‚
â”‚  â”‚   â”œâ”€â”€ Add tracking info                                      â”‚
â”‚  â”‚   â””â”€â”€ Mark as delivered                                      â”‚
â”‚  â”œâ”€â”€ Order details                                              â”‚
â”‚  â”œâ”€â”€ Customer info                                              â”‚
â”‚  â”œâ”€â”€ Cancel order (with reason)                                 â”‚
â”‚  â””â”€â”€ Refund request                                             â”‚
â”‚                                                                 â”‚
â”‚  DEALER-006: Sub-User Management                                â”‚
â”‚  â”œâ”€â”€ Add sub-user (within limit)                                â”‚
â”‚  â”œâ”€â”€ Sub-user roles:                                            â”‚
â”‚  â”‚   â”œâ”€â”€ Manager (full access)                                  â”‚
â”‚  â”‚   â””â”€â”€ Staff (limited access)                                 â”‚
â”‚  â”œâ”€â”€ Edit sub-user                                              â”‚
â”‚  â”œâ”€â”€ Disable sub-user                                           â”‚
â”‚  â””â”€â”€ Sub-user activity log                                      â”‚
â”‚                                                                 â”‚
â”‚  DEALER-007: Reports & Analytics                                â”‚
â”‚  â”œâ”€â”€ Sales report                                               â”‚
â”‚  â”œâ”€â”€ Product performance                                        â”‚
â”‚  â”œâ”€â”€ Revenue analytics                                          â”‚
â”‚  â””â”€â”€ Export reports (PDF/Excel)                                 â”‚
â”‚                                                                 â”‚
â”‚  DEALER-008: Profile & Settings                                 â”‚
â”‚  â”œâ”€â”€ Business profile                                           â”‚
â”‚  â”œâ”€â”€ Contact information                                        â”‚
â”‚  â”œâ”€â”€ Bank/bKash details                                         â”‚
â”‚  â”œâ”€â”€ Password change                                            â”‚
â”‚  â””â”€â”€ Notification preferences                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
MODULE 5: Public Website & Catalog
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PUBLIC WEBSITE MODULE                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  PUBLIC-001: Homepage                                           â”‚
â”‚  â”œâ”€â”€ Hero banner/slider                                         â”‚
â”‚  â”œâ”€â”€ Featured bikes                                             â”‚
â”‚  â”œâ”€â”€ Popular brands                                             â”‚
â”‚  â”œâ”€â”€ Categories showcase                                        â”‚
â”‚  â”œâ”€â”€ Featured dealers                                           â”‚
â”‚  â””â”€â”€ Why choose us section                                      â”‚
â”‚                                                                 â”‚
â”‚  PUBLIC-002: Product Listing                                    â”‚
â”‚  â”œâ”€â”€ All bikes listing                                          â”‚
â”‚  â”œâ”€â”€ Category-wise listing                                      â”‚
â”‚  â”œâ”€â”€ Brand-wise listing                                         â”‚
â”‚  â”œâ”€â”€ Filters:                                                   â”‚
â”‚  â”‚   â”œâ”€â”€ Price range                                            â”‚
â”‚  â”‚   â”œâ”€â”€ Brand                                                  â”‚
â”‚  â”‚   â”œâ”€â”€ Category                                               â”‚
â”‚  â”‚   â”œâ”€â”€ Engine CC                                              â”‚
â”‚  â”‚   â”œâ”€â”€ Condition (New/Used)                                   â”‚
â”‚  â”‚   â””â”€â”€ Dealer location                                        â”‚
â”‚  â”œâ”€â”€ Sorting:                                                   â”‚
â”‚  â”‚   â”œâ”€â”€ Price low-high                                         â”‚
â”‚  â”‚   â”œâ”€â”€ Price high-low                                         â”‚
â”‚  â”‚   â”œâ”€â”€ Newest first                                           â”‚
â”‚  â”‚   â””â”€â”€ Popular                                                â”‚
â”‚  â””â”€â”€ Pagination                                                 â”‚
â”‚                                                                 â”‚
â”‚  PUBLIC-003: Product Details                                    â”‚
â”‚  â”œâ”€â”€ Image gallery                                              â”‚
â”‚  â”œâ”€â”€ Bike specifications                                        â”‚
â”‚  â”œâ”€â”€ Price & discount                                           â”‚
â”‚  â”œâ”€â”€ Dealer information                                         â”‚
â”‚  â”œâ”€â”€ Stock status                                               â”‚
â”‚  â”œâ”€â”€ Color selection                                            â”‚
â”‚  â”œâ”€â”€ Add to cart / Buy now                                      â”‚
â”‚  â”œâ”€â”€ Similar bikes                                              â”‚
â”‚  â””â”€â”€ Contact dealer button                                      â”‚
â”‚                                                                 â”‚
â”‚  PUBLIC-004: Shopping Cart                                      â”‚
â”‚  â”œâ”€â”€ Cart items list                                            â”‚
â”‚  â”œâ”€â”€ Quantity update                                            â”‚
â”‚  â”œâ”€â”€ Remove item                                                â”‚
â”‚  â”œâ”€â”€ Price summary                                              â”‚
â”‚  â””â”€â”€ Proceed to checkout                                        â”‚
â”‚                                                                 â”‚
â”‚  PUBLIC-005: Checkout                                           â”‚
â”‚  â”œâ”€â”€ Customer information                                       â”‚
â”‚  â”‚   â”œâ”€â”€ Name                                                   â”‚
â”‚  â”‚   â”œâ”€â”€ Phone                                                  â”‚
â”‚  â”‚   â”œâ”€â”€ Email                                                  â”‚
â”‚  â”‚   â””â”€â”€ Address                                                â”‚
â”‚  â”œâ”€â”€ Order summary                                              â”‚
â”‚  â”œâ”€â”€ Payment method (bKash)                                     â”‚
â”‚  â””â”€â”€ Place order                                                â”‚
â”‚                                                                 â”‚
â”‚  PUBLIC-006: Order Tracking                                     â”‚
â”‚  â”œâ”€â”€ Track by order ID                                          â”‚
â”‚  â”œâ”€â”€ Order status timeline                                      â”‚
â”‚  â””â”€â”€ Delivery information                                       â”‚
â”‚                                                                 â”‚
â”‚  PUBLIC-007: Customer Account (Optional)                        â”‚
â”‚  â”œâ”€â”€ Registration                                               â”‚
â”‚  â”œâ”€â”€ Login                                                      â”‚
â”‚  â”œâ”€â”€ Order history                                              â”‚
â”‚  â”œâ”€â”€ Profile management                                         â”‚
â”‚  â””â”€â”€ Wishlist                                                   â”‚
â”‚                                                                 â”‚
â”‚  PUBLIC-008: Static Pages                                       â”‚
â”‚  â”œâ”€â”€ About Us                                                   â”‚
â”‚  â”œâ”€â”€ Contact Us                                                 â”‚
â”‚  â”œâ”€â”€ Terms & Conditions                                         â”‚
â”‚  â”œâ”€â”€ Privacy Policy                                             â”‚
â”‚  â””â”€â”€ FAQ                                                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
MODULE 6: Payment System (bKash)
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    bKASH PAYMENT MODULE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  BKASH-001: Payment Configuration                               â”‚
â”‚  â”œâ”€â”€ bKash Merchant credentials                                 â”‚
â”‚  â”‚   â”œâ”€â”€ App Key                                                â”‚
â”‚  â”‚   â”œâ”€â”€ App Secret                                             â”‚
â”‚  â”‚   â”œâ”€â”€ Username                                               â”‚
â”‚  â”‚   â”œâ”€â”€ Password                                               â”‚
â”‚  â”‚   â””â”€â”€ Sandbox/Production mode                                â”‚
â”‚  â””â”€â”€ Webhook URL configuration                                  â”‚
â”‚                                                                 â”‚
â”‚  BKASH-002: Payment Flow                                        â”‚
â”‚  â”œâ”€â”€ Step 1: Create Payment                                     â”‚
â”‚  â”‚   â”œâ”€â”€ Generate payment request                               â”‚
â”‚  â”‚   â”œâ”€â”€ Send to bKash API                                      â”‚
â”‚  â”‚   â””â”€â”€ Get payment URL                                        â”‚
â”‚  â”œâ”€â”€ Step 2: Customer Payment                                   â”‚
â”‚  â”‚   â”œâ”€â”€ Redirect to bKash                                      â”‚
â”‚  â”‚   â”œâ”€â”€ Customer enters PIN                                    â”‚
â”‚  â”‚   â””â”€â”€ Payment processed                                      â”‚
â”‚  â”œâ”€â”€ Step 3: Callback/Webhook                                   â”‚
â”‚  â”‚   â”œâ”€â”€ bKash sends callback                                   â”‚
â”‚  â”‚   â”œâ”€â”€ Verify payment status                                  â”‚
â”‚  â”‚   â””â”€â”€ Execute payment                                        â”‚
â”‚  â””â”€â”€ Step 4: Confirmation                                       â”‚
â”‚      â”œâ”€â”€ Update order status                                    â”‚
â”‚      â”œâ”€â”€ Save transaction record                                â”‚
â”‚      â”œâ”€â”€ Create audit log                                       â”‚
â”‚      â””â”€â”€ Send confirmation (Email/SMS)                          â”‚
â”‚                                                                 â”‚
â”‚  BKASH-003: Refund Management                                   â”‚
â”‚  â”œâ”€â”€ Refund request creation                                    â”‚
â”‚  â”œâ”€â”€ Admin approval queue                                       â”‚
â”‚  â”œâ”€â”€ Super Admin final approval                                 â”‚
â”‚  â”œâ”€â”€ bKash refund API call                                      â”‚
â”‚  â”œâ”€â”€ Refund status tracking                                     â”‚
â”‚  â””â”€â”€ Refund audit log                                           â”‚
â”‚                                                                 â”‚
â”‚  BKASH-004: Transaction Records                                 â”‚
â”‚  â”œâ”€â”€ Transaction ID                                             â”‚
â”‚  â”œâ”€â”€ Order ID                                                   â”‚
â”‚  â”œâ”€â”€ Amount                                                     â”‚
â”‚  â”œâ”€â”€ Status                                                     â”‚
â”‚  â”œâ”€â”€ bKash Transaction ID                                       â”‚
â”‚  â”œâ”€â”€ Customer phone                                             â”‚
â”‚  â”œâ”€â”€ Timestamp                                                  â”‚
â”‚  â””â”€â”€ Error details (if any)                                     â”‚
â”‚                                                                 â”‚
â”‚  BKASH-005: Settlement Reports                                  â”‚
â”‚  â”œâ”€â”€ Daily settlement                                           â”‚
â”‚  â”œâ”€â”€ Weekly summary                                             â”‚
â”‚  â”œâ”€â”€ Monthly summary                                            â”‚
â”‚  â””â”€â”€ Export reports                                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
MODULE 7: Reports & Analytics
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    REPORTS MODULE                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  REPORT-001: Platform Overview (Super Admin)                    â”‚
â”‚  â”œâ”€â”€ Total revenue                                              â”‚
â”‚  â”œâ”€â”€ Subscription revenue                                       â”‚
â”‚  â”œâ”€â”€ Commission revenue                                         â”‚
â”‚  â”œâ”€â”€ Active dealers                                             â”‚
â”‚  â”œâ”€â”€ Total products                                             â”‚
â”‚  â”œâ”€â”€ Total orders                                               â”‚
â”‚  â”œâ”€â”€ Average order value                                        â”‚
â”‚  â””â”€â”€ Growth trends                                              â”‚
â”‚                                                                 â”‚
â”‚  REPORT-002: Dealer Reports                                     â”‚
â”‚  â”œâ”€â”€ Dealer-wise sales                                          â”‚
â”‚  â”œâ”€â”€ Dealer performance ranking                                 â”‚
â”‚  â”œâ”€â”€ Dealer subscription status                                 â”‚
â”‚  â””â”€â”€ Dealer activity summary                                    â”‚
â”‚                                                                 â”‚
â”‚  REPORT-003: Product Reports                                    â”‚
â”‚  â”œâ”€â”€ Top selling products                                       â”‚
â”‚  â”œâ”€â”€ Category-wise sales                                        â”‚
â”‚  â”œâ”€â”€ Brand-wise sales                                           â”‚
â”‚  â”œâ”€â”€ Low stock alerts                                           â”‚
â”‚  â””â”€â”€ Product performance                                        â”‚
â”‚                                                                 â”‚
â”‚  REPORT-004: Order Reports                                      â”‚
â”‚  â”œâ”€â”€ Order status summary                                       â”‚
â”‚  â”œâ”€â”€ Daily/Weekly/Monthly orders                                â”‚
â”‚  â”œâ”€â”€ Cancelled order analysis                                   â”‚
â”‚  â””â”€â”€ Refund analysis                                            â”‚
â”‚                                                                 â”‚
â”‚  REPORT-005: Payment Reports                                    â”‚
â”‚  â”œâ”€â”€ Payment success rate                                       â”‚
â”‚  â”œâ”€â”€ Payment failure analysis                                   â”‚
â”‚  â”œâ”€â”€ Refund summary                                             â”‚
â”‚  â””â”€â”€ Settlement reconciliation                                  â”‚
â”‚                                                                 â”‚
â”‚  REPORT-006: Export Options                                     â”‚
â”‚  â”œâ”€â”€ PDF export                                                 â”‚
â”‚  â”œâ”€â”€ Excel export                                               â”‚
â”‚  â”œâ”€â”€ Date range filter                                          â”‚
â”‚  â””â”€â”€ Scheduled reports (email)                                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2.5 Role-Permission Matrix (Detailed)
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ROLE-PERMISSION MATRIX                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MODULE / ACTION      â”‚SUPER ADMIN â”‚   ADMIN    â”‚   DEALER   â”‚ SUPPORT  â”‚   VIEWER     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ USERS & ROLES        â”‚            â”‚            â”‚            â”‚          â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Create Admin         â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Create Support       â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Create Viewer        â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Modify Roles         â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ View All Users       â”‚     âœ…     â”‚    View    â”‚     âŒ     â”‚   View   â”‚     View     â”‚
â”‚ Disable Users        â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Force Logout         â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DEALERS              â”‚            â”‚            â”‚            â”‚          â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ View All Dealers     â”‚     âœ…     â”‚     âœ…     â”‚     âŒ     â”‚   View   â”‚     View     â”‚
â”‚ Approve Dealer       â”‚     âœ…     â”‚     âœ…     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Suspend Dealer       â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Reactivate Dealer    â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Override Limits      â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ View Dealer Logs     â”‚     âœ…     â”‚    View    â”‚     âŒ     â”‚   View   â”‚      âŒ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PRODUCTS             â”‚            â”‚            â”‚            â”‚          â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Create Category      â”‚     âœ…     â”‚     âœ…     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Create Brand         â”‚     âœ…     â”‚     âœ…     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ View All Products    â”‚     âœ…     â”‚     âœ…     â”‚   Own Only â”‚   View   â”‚     View     â”‚
â”‚ Approve Products     â”‚     âœ…     â”‚     âœ…     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Block Products       â”‚     âœ…     â”‚     âœ…     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Add Products         â”‚     âŒ     â”‚     âŒ     â”‚     âœ…     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Edit Own Products    â”‚     âŒ     â”‚     âŒ     â”‚     âœ…     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Delete Own Products  â”‚     âŒ     â”‚     âŒ     â”‚     âœ…     â”‚    âŒ    â”‚      âŒ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ORDERS               â”‚            â”‚            â”‚            â”‚          â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ View All Orders      â”‚    View    â”‚     âœ…     â”‚   Own Only â”‚   View   â”‚     View     â”‚
â”‚ Process Orders       â”‚     âŒ     â”‚   Limited  â”‚     âœ…     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Cancel Orders        â”‚     âŒ     â”‚     âœ…     â”‚     âœ…     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Request Refund       â”‚     âŒ     â”‚     âœ…     â”‚     âœ…     â”‚    âŒ    â”‚      âŒ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PAYMENTS             â”‚            â”‚            â”‚            â”‚          â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Configure Gateway    â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ View Transactions    â”‚     âœ…     â”‚    View    â”‚   Own Only â”‚    âŒ    â”‚     View     â”‚
â”‚ Approve Refunds      â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ View Settlement      â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚     View     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SUBSCRIPTIONS        â”‚            â”‚            â”‚            â”‚          â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Create Plans         â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Edit Plans           â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Assign Plans         â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ View Own Plan        â”‚     âŒ     â”‚     âŒ     â”‚     âœ…     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Extend Subscription  â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SETTINGS             â”‚            â”‚            â”‚            â”‚          â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Platform Settings    â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Feature Flags        â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Maintenance Mode     â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Own Profile Settings â”‚     âœ…     â”‚     âœ…     â”‚     âœ…     â”‚    âœ…    â”‚      âœ…      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AUDIT LOGS           â”‚            â”‚            â”‚            â”‚          â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ View All Logs        â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Export Logs          â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ REPORTS              â”‚            â”‚            â”‚            â”‚          â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Platform Reports     â”‚     âœ…     â”‚    View    â”‚     âŒ     â”‚    âŒ    â”‚     View     â”‚
â”‚ Financial Reports    â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚     View     â”‚
â”‚ Dealer Reports       â”‚     âœ…     â”‚    View    â”‚   Own Only â”‚    âŒ    â”‚     View     â”‚
â”‚ Export Reports       â”‚     âœ…     â”‚    View    â”‚     âœ…     â”‚    âŒ    â”‚     View     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ EMERGENCY            â”‚            â”‚            â”‚            â”‚          â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Freeze Dealer        â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Freeze Payments      â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â”‚ Incident Report      â”‚     âœ…     â”‚     âŒ     â”‚     âŒ     â”‚    âŒ    â”‚      âŒ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend:
âœ… = Full Access (Create, Read, Update, Delete)
View = Read Only
Own Only = Access to own data only
Limited = Restricted actions
âŒ = No Access
2.6 Non-Functional Requirements
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                NON-FUNCTIONAL REQUIREMENTS                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  PERFORMANCE                                                    â”‚
â”‚  â”œâ”€â”€ Page load time: < 3 seconds                                â”‚
â”‚  â”œâ”€â”€ API response time: < 500ms                                 â”‚
â”‚  â”œâ”€â”€ Database query: < 100ms                                    â”‚
â”‚  â””â”€â”€ Concurrent users: 500+                                     â”‚
â”‚                                                                 â”‚
â”‚  SECURITY                                                       â”‚
â”‚  â”œâ”€â”€ HTTPS mandatory                                            â”‚
â”‚  â”œâ”€â”€ Password hashing (bcrypt)                                  â”‚
â”‚  â”œâ”€â”€ SQL injection prevention                                   â”‚
â”‚  â”œâ”€â”€ XSS protection                                             â”‚
â”‚  â”œâ”€â”€ CSRF protection                                            â”‚
â”‚  â”œâ”€â”€ Rate limiting                                              â”‚
â”‚  â”œâ”€â”€ Input validation (frontend + backend)                      â”‚
â”‚  â”œâ”€â”€ Row Level Security (RLS)                                   â”‚
â”‚  â””â”€â”€ Audit logging (immutable)                                  â”‚
â”‚                                                                 â”‚
â”‚  RELIABILITY                                                    â”‚
â”‚  â”œâ”€â”€ Uptime: 99.5%                                              â”‚
â”‚  â”œâ”€â”€ Daily automated backups                                    â”‚
â”‚  â”œâ”€â”€ Disaster recovery plan                                     â”‚
â”‚  â””â”€â”€ Error monitoring (Sentry)                                  â”‚
â”‚                                                                 â”‚
â”‚  SCALABILITY                                                    â”‚
â”‚  â”œâ”€â”€ Horizontal scaling ready                                   â”‚
â”‚  â”œâ”€â”€ CDN for static assets                                      â”‚
â”‚  â”œâ”€â”€ Database indexing                                          â”‚
â”‚  â””â”€â”€ Caching strategy                                           â”‚
â”‚                                                                 â”‚
â”‚  USABILITY                                                      â”‚
â”‚  â”œâ”€â”€ Responsive design (Mobile-friendly)                        â”‚
â”‚  â”œâ”€â”€ Intuitive navigation                                       â”‚
â”‚  â”œâ”€â”€ Loading indicators                                         â”‚
â”‚  â”œâ”€â”€ Error messages (clear)                                     â”‚
â”‚  â””â”€â”€ Bengali language support (optional)                        â”‚
â”‚                                                                 â”‚
â”‚  COMPATIBILITY                                                  â”‚
â”‚  â”œâ”€â”€ Chrome (latest 2 versions)                                 â”‚
â”‚  â”œâ”€â”€ Firefox (latest 2 versions)                                â”‚
â”‚  â”œâ”€â”€ Safari (latest 2 versions)                                 â”‚
â”‚  â”œâ”€â”€ Edge (latest 2 versions)                                   â”‚
â”‚  â””â”€â”€ Mobile browsers                                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ğŸ“Š PART 3: DATABASE DESIGN
3.1 Entity Relationship Diagram (ERD)
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              DATABASE ERD                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚    users     â”‚
                                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                    â”‚ id (PK)      â”‚
                                    â”‚ email        â”‚
                                    â”‚ phone        â”‚
                                    â”‚ full_name    â”‚
                                    â”‚ avatar_url   â”‚
                                    â”‚ role_id (FK) â”‚
                                    â”‚ dealer_id(FK)â”‚
                                    â”‚ is_active    â”‚
                                    â”‚ mfa_enabled  â”‚
                                    â”‚ created_at   â”‚
                                    â”‚ updated_at   â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                            â”‚                            â”‚
              â–¼                            â–¼                            â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚    roles     â”‚            â”‚   dealers    â”‚            â”‚  audit_logs  â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚ id (PK)      â”‚            â”‚ id (PK)      â”‚            â”‚ id (PK)      â”‚
       â”‚ name         â”‚            â”‚ user_id (FK) â”‚            â”‚ user_id (FK) â”‚
       â”‚ description  â”‚            â”‚ business_nameâ”‚            â”‚ action       â”‚
       â”‚ is_system    â”‚            â”‚ owner_name   â”‚            â”‚ entity_type  â”‚
       â”‚ created_at   â”‚            â”‚ email        â”‚            â”‚ entity_id    â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ phone        â”‚            â”‚ old_value    â”‚
              â”‚                    â”‚ address      â”‚            â”‚ new_value    â”‚
              â–¼                    â”‚ trade_licenseâ”‚            â”‚ ip_address   â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚ status       â”‚            â”‚ user_agent   â”‚
       â”‚role_permissions           â”‚ plan_id (FK) â”‚            â”‚ created_at   â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚ subscription â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ id (PK)      â”‚            â”‚ _expires_at  â”‚
       â”‚ role_id (FK) â”‚            â”‚ created_at   â”‚
       â”‚ permission_idâ”‚            â”‚ approved_at  â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ approved_by  â”‚
              â”‚                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
              â–¼                           â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
       â”‚ permissions  â”‚                   â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â–¼
       â”‚ id (PK)      â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ module       â”‚           â”‚   products   â”‚
       â”‚ action       â”‚           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚ description  â”‚           â”‚ id (PK)      â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ dealer_id(FK)â”‚
                                  â”‚ category_id  â”‚
                                  â”‚ brand_id(FK) â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚ name         â”‚
       â”‚    plans     â”‚           â”‚ slug         â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚ description  â”‚
       â”‚ id (PK)      â”‚           â”‚ price        â”‚
       â”‚ name         â”‚           â”‚ discount_pct â”‚
       â”‚ price_monthlyâ”‚           â”‚ engine_cc    â”‚
       â”‚ price_yearly â”‚           â”‚ mileage      â”‚
       â”‚ trial_days   â”‚           â”‚ model_year   â”‚
       â”‚ product_limitâ”‚           â”‚ condition    â”‚
       â”‚ user_limit   â”‚           â”‚ stock        â”‚
       â”‚ commission   â”‚           â”‚ colors       â”‚
       â”‚ _type        â”‚           â”‚ features     â”‚
       â”‚ commission   â”‚           â”‚ images       â”‚
       â”‚ _value       â”‚           â”‚ status       â”‚
       â”‚ features     â”‚           â”‚ is_featured  â”‚
       â”‚ is_active    â”‚           â”‚ created_at   â”‚
       â”‚ created_at   â”‚           â”‚ approved_at  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                                                        â”‚
              â–¼                                                        â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  categories  â”‚                                        â”‚    brands    â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚ id (PK)      â”‚                                        â”‚ id (PK)      â”‚
       â”‚ name         â”‚                                        â”‚ name         â”‚
       â”‚ slug         â”‚                                        â”‚ slug         â”‚
       â”‚ parent_id    â”‚                                        â”‚ logo_url     â”‚
       â”‚ icon         â”‚                                        â”‚ is_active    â”‚
       â”‚ is_active    â”‚                                        â”‚ created_at   â”‚
       â”‚ created_at   â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚    orders    â”‚           â”‚ order_items  â”‚           â”‚   payments   â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚ id (PK)      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ id (PK)      â”‚           â”‚ id (PK)      â”‚
       â”‚ order_number â”‚           â”‚ order_id(FK) â”‚           â”‚ order_id(FK) â”‚
       â”‚ customer_nameâ”‚           â”‚ product_id   â”‚           â”‚ amount       â”‚
       â”‚ customer_    â”‚           â”‚ dealer_id    â”‚           â”‚ method       â”‚
       â”‚ phone        â”‚           â”‚ quantity     â”‚           â”‚ status       â”‚
       â”‚ customer_    â”‚           â”‚ unit_price   â”‚           â”‚ bkash_trx_id â”‚
       â”‚ email        â”‚           â”‚ total_price  â”‚           â”‚ bkash_       â”‚
       â”‚ shipping_    â”‚           â”‚ created_at   â”‚           â”‚ payment_id   â”‚
       â”‚ address      â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ error_msg    â”‚
       â”‚ total_amount â”‚                                      â”‚ paid_at      â”‚
       â”‚ status       â”‚                                      â”‚ created_at   â”‚
       â”‚ payment_     â”‚                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ status       â”‚
       â”‚ notes        â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ created_at   â”‚           â”‚   refunds    â”‚
       â”‚ updated_at   â”‚           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ id (PK)      â”‚
                                  â”‚ order_id(FK) â”‚
                                  â”‚ payment_id   â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚ amount       â”‚
       â”‚subscriptions â”‚           â”‚ reason       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚ status       â”‚
       â”‚ id (PK)      â”‚           â”‚ requested_by â”‚
       â”‚ dealer_id(FK)â”‚           â”‚ approved_by  â”‚
       â”‚ plan_id (FK) â”‚           â”‚ bkash_       â”‚
       â”‚ status       â”‚           â”‚ refund_trx   â”‚
       â”‚ starts_at    â”‚           â”‚ created_at   â”‚
       â”‚ expires_at   â”‚           â”‚ processed_at â”‚
       â”‚ auto_renew   â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ created_at   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚   invoices   â”‚           â”‚   settings   â”‚           â”‚feature_flags â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚ id (PK)      â”‚           â”‚ id (PK)      â”‚           â”‚ id (PK)      â”‚
       â”‚ invoice_no   â”‚           â”‚ key          â”‚           â”‚ feature_name â”‚
       â”‚ type         â”‚           â”‚ value        â”‚           â”‚ is_enabled   â”‚
       â”‚ entity_id    â”‚           â”‚ description  â”‚           â”‚ description  â”‚
       â”‚ amount       â”‚           â”‚ updated_by   â”‚           â”‚ updated_by   â”‚
       â”‚ status       â”‚           â”‚ updated_at   â”‚           â”‚ updated_at   â”‚
       â”‚ due_date     â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ paid_at      â”‚
       â”‚ pdf_url      â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ created_at   â”‚           â”‚notifications â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                  â”‚ id (PK)      â”‚
                                  â”‚ user_id (FK) â”‚
                                  â”‚ title        â”‚
                                  â”‚ message      â”‚
                                  â”‚ type         â”‚
                                  â”‚ is_read      â”‚
                                  â”‚ action_url   â”‚
                                  â”‚ created_at   â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
3.2 Database Tables (SQL Schema)
SQL

-- =====================================================
-- ROYALCONSORTIUM DATABASE SCHEMA
-- PostgreSQL (Supabase)
-- =====================================================

-- Enable UUID extension
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- =====================================================
-- 1. ROLES & PERMISSIONS
-- =====================================================

CREATE TABLE roles (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    name VARCHAR(50) NOT NULL UNIQUE,
    description TEXT,
    is_system BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Default roles
INSERT INTO roles (name, description, is_system) VALUES
('super_admin', 'Full platform control', TRUE),
('admin', 'Operations management', TRUE),
('dealer', 'Vendor/Showroom owner', TRUE),
('dealer_manager', 'Dealer sub-user with full access', TRUE),
('dealer_staff', 'Dealer sub-user with limited access', TRUE),
('support', 'Customer support', TRUE),
('viewer', 'Read-only access', TRUE);

CREATE TABLE permissions (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    module VARCHAR(50) NOT NULL,
    action VARCHAR(50) NOT NULL,
    description TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    UNIQUE(module, action)
);

-- Sample permissions
INSERT INTO permissions (module, action, description) VALUES
('users', 'create', 'Create new users'),
('users', 'read', 'View users'),
('users', 'update', 'Update users'),
('users', 'delete', 'Delete users'),
('dealers', 'create', 'Create dealers'),
('dealers', 'read', 'View dealers'),
('dealers', 'approve', 'Approve dealers'),
('dealers', 'suspend', 'Suspend dealers'),
('products', 'create', 'Create products'),
('products', 'read', 'View products'),
('products', 'update', 'Update products'),
('products', 'approve', 'Approve products'),
('orders', 'read', 'View orders'),
('orders', 'process', 'Process orders'),
('payments', 'read', 'View payments'),
('payments', 'refund', 'Process refunds'),
('settings', 'read', 'View settings'),
('settings', 'update', 'Update settings'),
('audit_logs', 'read', 'View audit logs'),
('reports', 'read', 'View reports'),
('reports', 'export', 'Export reports');

CREATE TABLE role_permissions (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    role_id UUID REFERENCES roles(id) ON DELETE CASCADE,
    permission_id UUID REFERENCES permissions(id) ON DELETE CASCADE,
    scope VARCHAR(20) DEFAULT 'all', -- 'all', 'own', 'none'
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    UNIQUE(role_id, permission_id)
);

-- =====================================================
-- 2. USERS
-- =====================================================

CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    auth_id UUID UNIQUE, -- Supabase Auth user ID
    email VARCHAR(255) NOT NULL UNIQUE,
    phone VARCHAR(20),
    full_name VARCHAR(255) NOT NULL,
    avatar_url TEXT,
    role_id UUID REFERENCES roles(id),
    dealer_id UUID, -- Will reference dealers table
    is_active BOOLEAN DEFAULT TRUE,
    mfa_enabled BOOLEAN DEFAULT FALSE,
    last_login_at TIMESTAMP WITH TIME ZONE,
    last_login_ip VARCHAR(50),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- =====================================================
-- 3. SUBSCRIPTION PLANS
-- =====================================================

CREATE TABLE plans (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    name VARCHAR(100) NOT NULL,
    description TEXT,
    price_monthly DECIMAL(10,2) NOT NULL,
    price_yearly DECIMAL(10,2),
    trial_days INTEGER DEFAULT 0,
    product_limit INTEGER DEFAULT 50,
    user_limit INTEGER DEFAULT 3,
    commission_type VARCHAR(20) DEFAULT 'percentage', -- 'percentage', 'fixed', 'hybrid'
    commission_percentage DECIMAL(5,2) DEFAULT 0,
    commission_fixed DECIMAL(10,2) DEFAULT 0,
    features JSONB DEFAULT '[]',
    is_active BOOLEAN DEFAULT TRUE,
    sort_order INTEGER DEFAULT 0,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Sample plans
INSERT INTO plans (name, description, price_monthly, price_yearly, trial_days, product_limit, user_limit, commission_type, commission_percentage) VALUES
('Starter', 'For small showrooms', 999.00, 9999.00, 14, 25, 2, 'percentage', 5.00),
('Professional', 'For growing businesses', 2499.00, 24999.00, 14, 100, 5, 'percentage', 4.00),
('Enterprise', 'For large dealers', 4999.00, 49999.00, 14, -1, 10, 'percentage', 3.00);

-- =====================================================
-- 4. DEALERS
-- =====================================================

CREATE TABLE dealers (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    user_id UUID REFERENCES users(id),
    business_name VARCHAR(255) NOT NULL,
    owner_name VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL,
    phone VARCHAR(20) NOT NULL,
    alternate_phone VARCHAR(20),
    address TEXT NOT NULL,
    city VARCHAR(100),
    district VARCHAR(100),
    trade_license_no VARCHAR(100),
    trade_license_url TEXT,
    nid_no VARCHAR(50),
    nid_url TEXT,
    bkash_number VARCHAR(20),
    bank_name VARCHAR(100),
    bank_account_no VARCHAR(50),
    bank_branch VARCHAR(100),
    logo_url TEXT,
    banner_url TEXT,
    description TEXT,
    status VARCHAR(20) DEFAULT 'pending', -- 'pending', 'active', 'suspended', 'rejected'
    rejection_reason TEXT,
    plan_id UUID REFERENCES plans(id),
    subscription_status VARCHAR(20) DEFAULT 'none', -- 'none', 'trial', 'active', 'expired'
    subscription_expires_at TIMESTAMP WITH TIME ZONE,
    total_products INTEGER DEFAULT 0,
    total_orders INTEGER DEFAULT 0,
    total_revenue DECIMAL(15,2) DEFAULT 0,
    rating DECIMAL(3,2) DEFAULT 0,
    is_featured BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    approved_at TIMESTAMP WITH TIME ZONE,
    approved_by UUID REFERENCES users(id),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Add foreign key to users
ALTER TABLE users ADD CONSTRAINT fk_user_dealer 
    FOREIGN KEY (dealer_id) REFERENCES dealers(id);

-- =====================================================
-- 5. SUBSCRIPTIONS
-- =====================================================

CREATE TABLE subscriptions (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    dealer_id UUID REFERENCES dealers(id) ON DELETE CASCADE,
    plan_id UUID REFERENCES plans(id),
    status VARCHAR(20) DEFAULT 'active', -- 'trial', 'active', 'expired', 'cancelled'
    billing_cycle VARCHAR(20) DEFAULT 'monthly', -- 'monthly', 'yearly'
    amount_paid DECIMAL(10,2),
    starts_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    expires_at TIMESTAMP WITH TIME ZONE NOT NULL,
    auto_renew BOOLEAN DEFAULT TRUE,
    payment_id UUID, -- Will reference payments
    cancelled_at TIMESTAMP WITH TIME ZONE,
    cancellation_reason TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- =====================================================
-- 6. CATEGORIES & BRANDS
-- =====================================================

CREATE TABLE categories (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    name VARCHAR(100) NOT NULL,
    slug VARCHAR(100) NOT NULL UNIQUE,
    description TEXT,
    parent_id UUID REFERENCES categories(id),
    icon VARCHAR(50),
    image_url TEXT,
    sort_order INTEGER DEFAULT 0,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Sample categories
INSERT INTO categories (name, slug, description) VALUES
('Sports Bike', 'sports-bike', 'High-performance sports motorcycles'),
('Commuter Bike', 'commuter-bike', 'Daily commuter motorcycles'),
('Cruiser', 'cruiser', 'Cruiser style motorcycles'),
('Scooter', 'scooter', 'Scooters and mopeds'),
('Electric Bike', 'electric-bike', 'Electric motorcycles');

CREATE TABLE brands (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    name VARCHAR(100) NOT NULL,
    slug VARCHAR(100) NOT NULL UNIQUE,
    description TEXT,
    logo_url TEXT,
    country VARCHAR(100),
    sort_order INTEGER DEFAULT 0,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Sample brands
INSERT INTO brands (name, slug, country) VALUES
('Honda', 'honda', 'Japan'),
('Yamaha', 'yamaha', 'Japan'),
('Suzuki', 'suzuki', 'Japan'),
('Bajaj', 'bajaj', 'India'),
('TVS', 'tvs', 'India'),
('Hero', 'hero', 'India'),
('KTM', 'ktm', 'Austria'),
('Kawasaki', 'kawasaki', 'Japan'),
('BMW', 'bmw', 'Germany'),
('Royal Enfield', 'royal-enfield', 'India');

-- =====================================================
-- 7. PRODUCTS
-- =====================================================

CREATE TABLE products (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    dealer_id UUID REFERENCES dealers(id) ON DELETE CASCADE,
    category_id UUID REFERENCES categories(id),
    brand_id UUID REFERENCES brands(id),
    name VARCHAR(255) NOT NULL,
    slug VARCHAR(255) NOT NULL,
    description TEXT,
    short_description TEXT,
    price DECIMAL(12,2) NOT NULL,
    discount_percentage DECIMAL(5,2) DEFAULT 0,
    discounted_price DECIMAL(12,2),
    engine_cc INTEGER,
    mileage VARCHAR(50), -- e.g., "45 km/l"
    model_year INTEGER,
    fuel_type VARCHAR(20) DEFAULT 'petrol', -- 'petrol', 'electric'
    condition VARCHAR(20) DEFAULT 'new', -- 'new', 'used'
    stock INTEGER DEFAULT 0,
    colors JSONB DEFAULT '[]', -- ["Red", "Blue", "Black"]
    features JSONB DEFAULT '[]',
    specifications JSONB DEFAULT '{}',
    images JSONB DEFAULT '[]', -- [{url, alt, is_primary}]
    video_url TEXT,
    status VARCHAR(20) DEFAULT 'pending', -- 'pending', 'approved', 'rejected', 'blocked'
    rejection_reason TEXT,
    is_featured BOOLEAN DEFAULT FALSE,
    view_count INTEGER DEFAULT 0,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    approved_at TIMESTAMP WITH TIME ZONE,
    approved_by UUID REFERENCES users(id),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    UNIQUE(dealer_id, slug)
);

-- Create index for search
CREATE INDEX idx_products_search ON products USING gin(to_tsvector('english', name || ' ' || COALESCE(description, '')));
CREATE INDEX idx_products_dealer ON products(dealer_id);
CREATE INDEX idx_products_category ON products(category_id);
CREATE INDEX idx_products_brand ON products(brand_id);
CREATE INDEX idx_products_status ON products(status);

-- =====================================================
-- 8. ORDERS
-- =====================================================

CREATE TABLE orders (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    order_number VARCHAR(50) NOT NULL UNIQUE,
    customer_name VARCHAR(255) NOT NULL,
    customer_phone VARCHAR(20) NOT NULL,
    customer_email VARCHAR(255),
    customer_id UUID REFERENCES users(id), -- Optional if guest checkout
    shipping_address TEXT NOT NULL,
    shipping_city VARCHAR(100),
    shipping_district VARCHAR(100),
    subtotal DECIMAL(12,2) NOT NULL,
    discount_amount DECIMAL(12,2) DEFAULT 0,
    shipping_cost DECIMAL(10,2) DEFAULT 0,
    total_amount DECIMAL(12,2) NOT NULL,
    status VARCHAR(20) DEFAULT 'pending',
    -- Status: pending, confirmed, processing, shipped, delivered, cancelled, returned
    payment_status VARCHAR(20) DEFAULT 'pending',
    -- Payment: pending, paid, failed, refunded, partial_refund
    payment_method VARCHAR(20) DEFAULT 'bkash',
    notes TEXT,
    admin_notes TEXT,
    tracking_number VARCHAR(100),
    shipped_at TIMESTAMP WITH TIME ZONE,
    delivered_at TIMESTAMP WITH TIME ZONE,
    cancelled_at TIMESTAMP WITH TIME ZONE,
    cancellation_reason TEXT,
    cancelled_by UUID REFERENCES users(id),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE INDEX idx_orders_number ON orders(order_number);
CREATE INDEX idx_orders_status ON orders(status);
CREATE INDEX idx_orders_payment ON orders(payment_status);
CREATE INDEX idx_orders_customer ON orders(customer_phone);
CREATE INDEX idx_orders_date ON orders(created_at);

CREATE TABLE order_items (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    order_id UUID REFERENCES orders(id) ON DELETE CASCADE,
    product_id UUID REFERENCES products(id),
    dealer_id UUID REFERENCES dealers(id),
    product_name VARCHAR(255) NOT NULL, -- Stored for record
    product_image TEXT,
    quantity INTEGER NOT NULL DEFAULT 1,
    unit_price DECIMAL(12,2) NOT NULL,
    discount_percentage DECIMAL(5,2) DEFAULT 0,
    total_price DECIMAL(12,2) NOT NULL,
    color VARCHAR(50),
    status VARCHAR(20) DEFAULT 'pending',
    -- For multi-dealer orders, each item can have different status
    notes TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE INDEX idx_order_items_order ON order_items(order_id);
CREATE INDEX idx_order_items_dealer ON order_items(dealer_id);

-- =====================================================
-- 9. PAYMENTS
-- =====================================================

CREATE TABLE payments (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    order_id UUID REFERENCES orders(id),
    subscription_id UUID REFERENCES subscriptions(id),
    payment_type VARCHAR(20) NOT NULL, -- 'order', 'subscription'
    amount DECIMAL(12,2) NOT NULL,
    currency VARCHAR(10) DEFAULT 'BDT',
    method VARCHAR(20) DEFAULT 'bkash',
    status VARCHAR(20) DEFAULT 'pending',
    -- Status: pending, processing, completed, failed, cancelled, refunded
    
    -- bKash specific fields
    bkash_payment_id VARCHAR(100),
    bkash_trx_id VARCHAR(100),
    bkash_invoice_number VARCHAR(100),
    bkash_create_time TIMESTAMP WITH TIME ZONE,
    bkash_update_time TIMESTAMP WITH TIME ZONE,
    bkash_customer_msisdn VARCHAR(20),
    
    -- Response storage
    gateway_response JSONB,
    error_code VARCHAR(50),
    error_message TEXT,
    
    paid_at TIMESTAMP WITH TIME ZONE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE INDEX idx_payments_order ON payments(order_id);
CREATE INDEX idx_payments_status ON payments(status);
CREATE INDEX idx_payments_bkash_trx ON payments(bkash_trx_id);

CREATE TABLE refunds (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    order_id UUID REFERENCES orders(id),
    payment_id UUID REFERENCES payments(id),
    amount DECIMAL(12,2) NOT NULL,
    reason TEXT NOT NULL,
    status VARCHAR(20) DEFAULT 'pending',
    -- Status: pending, approved, processing, completed, rejected
    
    requested_by UUID REFERENCES users(id),
    reviewed_by UUID REFERENCES users(id),
    review_notes TEXT,
    reviewed_at TIMESTAMP WITH TIME ZONE,
    
    approved_by UUID REFERENCES users(id),
    approved_at TIMESTAMP WITH TIME ZONE,
    
    -- bKash refund fields
    bkash_refund_trx_id VARCHAR(100),
    bkash_response JSONB,
    
    processed_at TIMESTAMP WITH TIME ZONE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- =====================================================
-- 10. INVOICES
-- =====================================================

CREATE TABLE invoices (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    invoice_number VARCHAR(50) NOT NULL UNIQUE,
    type VARCHAR(20) NOT NULL, -- 'order', 'subscription', 'commission'
    entity_type VARCHAR(50), -- 'order', 'subscription'
    entity_id UUID,
    dealer_id UUID REFERENCES dealers(id),
    customer_name VARCHAR(255),
    customer_email VARCHAR(255),
    customer_phone VARCHAR(20),
    customer_address TEXT,
    items JSONB NOT NULL, -- [{name, quantity, unit_price, total}]
    subtotal DECIMAL(12,2) NOT NULL,
    discount DECIMAL(12,2) DEFAULT 0,
    tax DECIMAL(12,2) DEFAULT 0,
    total DECIMAL(12,2) NOT NULL,
    status VARCHAR(20) DEFAULT 'unpaid', -- 'unpaid', 'paid', 'cancelled'
    due_date DATE,
    paid_at TIMESTAMP WITH TIME ZONE,
    pdf_url TEXT,
    notes TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- =====================================================
-- 11. SETTINGS & CONFIGURATION
-- =====================================================

CREATE TABLE settings (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    key VARCHAR(100) NOT NULL UNIQUE,
    value TEXT,
    type VARCHAR(20) DEFAULT 'string', -- 'string', 'number', 'boolean', 'json'
    group_name VARCHAR(50) DEFAULT 'general',
    description TEXT,
    is_public BOOLEAN DEFAULT FALSE,
    updated_by UUID REFERENCES users(id),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Default settings
INSERT INTO settings (key, value, type, group_name, description) VALUES
('platform_name', 'RoyalConsortium', 'string', 'general', 'Platform name'),
('currency', 'BDT', 'string', 'general', 'Default currency'),
('timezone', 'Asia/Dhaka', 'string', 'general', 'Default timezone'),
('invoice_prefix', 'INV', 'string', 'invoice', 'Invoice number prefix'),
('invoice_next_number', '1001', 'number', 'invoice', 'Next invoice number'),
('order_prefix', 'ORD', 'string', 'order', 'Order number prefix'),
('order_next_number', '1001', 'number', 'order', 'Next order number'),
('bkash_sandbox', 'true', 'boolean', 'payment', 'Use bKash sandbox'),
('maintenance_mode', 'false', 'boolean', 'system', 'Maintenance mode');

CREATE TABLE feature_flags (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    feature_key VARCHAR(100) NOT NULL UNIQUE,
    feature_name VARCHAR(255) NOT NULL,
    description TEXT,
    is_enabled BOOLEAN DEFAULT FALSE,
    enabled_for JSONB DEFAULT '[]', -- Specific user/dealer IDs
    updated_by UUID REFERENCES users(id),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Default feature flags
INSERT INTO feature_flags (feature_key, feature_name, description, is_enabled) VALUES
('customer_registration', 'Customer Registration', 'Allow customers to create accounts', TRUE),
('customer_reviews', 'Product Reviews', 'Allow customers to review products', FALSE),
('wishlist', 'Wishlist', 'Enable wishlist feature', FALSE),
('compare', 'Product Comparison', 'Enable product comparison', FALSE),
('live_chat', 'Live Chat', 'Enable live chat support', FALSE),
('dealer_chat', 'Dealer Chat', 'Allow dealer-customer chat', FALSE),
('wallet', 'Digital Wallet', 'Enable wallet feature', FALSE);

-- =====================================================
-- 12. AUDIT LOGS (IMMUTABLE)
-- =====================================================

CREATE TABLE audit_logs (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    user_id UUID REFERENCES users(id),
    user_email VARCHAR(255),
    user_role VARCHAR(50),
    action VARCHAR(100) NOT NULL,
    action_type VARCHAR(20) NOT NULL, -- 'create', 'update', 'delete', 'login', 'logout', etc.
    entity_type VARCHAR(50), -- 'user', 'dealer', 'product', 'order', etc.
    entity_id UUID,
    old_value JSONB,
    new_value JSONB,
    description TEXT,
    ip_address VARCHAR(50),
    user_agent TEXT,
    metadata JSONB,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Create index for audit log queries
CREATE INDEX idx_audit_user ON audit_logs(user_id);
CREATE INDEX idx_audit_action ON audit_logs(action);
CREATE INDEX idx_audit_entity ON audit_logs(entity_type, entity_id);
CREATE INDEX idx_audit_date ON audit_logs(created_at);

-- Make audit logs immutable (no update, no delete)
CREATE OR REPLACE FUNCTION prevent_audit_modification()
RETURNS TRIGGER AS $$
BEGIN
    RAISE EXCEPTION 'Audit logs cannot be modified or deleted';
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER audit_log_immutable
BEFORE UPDATE OR DELETE ON audit_logs
FOR EACH ROW EXECUTE FUNCTION prevent_audit_modification();

-- =====================================================
-- 13. NOTIFICATIONS
-- =====================================================

CREATE TABLE notifications (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    user_id UUID REFERENCES users(id) ON DELETE CASCADE,
    title VARCHAR(255) NOT NULL,
    message TEXT NOT NULL,
    type VARCHAR(50) DEFAULT 'info', -- 'info', 'success', 'warning', 'error'
    category VARCHAR(50), -- 'order', 'payment', 'system', etc.
    action_url TEXT,
    is_read BOOLEAN DEFAULT FALSE,
    read_at TIMESTAMP WITH TIME ZONE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE INDEX idx_notifications_user ON notifications(user_id);
CREATE INDEX idx_notifications_unread ON notifications(user_id) WHERE is_read = FALSE;

-- =====================================================
-- 14. ROW LEVEL SECURITY (RLS) POLICIES
-- =====================================================

-- Enable RLS on all tables
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE dealers ENABLE ROW LEVEL SECURITY;
ALTER TABLE products ENABLE ROW LEVEL SECURITY;
ALTER TABLE orders ENABLE ROW LEVEL SECURITY;
ALTER TABLE order_items ENABLE ROW LEVEL SECURITY;
ALTER TABLE payments ENABLE ROW LEVEL SECURITY;
ALTER TABLE subscriptions ENABLE ROW LEVEL SECURITY;
ALTER TABLE audit_logs ENABLE ROW LEVEL SECURITY;
ALTER TABLE notifications ENABLE ROW LEVEL SECURITY;

-- Example RLS policies (simplified)

-- Users can read their own data
CREATE POLICY "Users can view own profile"
ON users FOR SELECT
USING (auth.uid() = auth_id);

-- Dealers can only see their own products
CREATE POLICY "Dealers can view own products"
ON products FOR SELECT
USING (
    dealer_id IN (
        SELECT d.id FROM dealers d 
        JOIN users u ON u.dealer_id = d.id 
        WHERE u.auth_id = auth.uid()
    )
    OR 
    status = 'approved' -- Public can see approved products
);

-- Notifications only visible to owner
CREATE POLICY "Users can view own notifications"
ON notifications FOR SELECT
USING (
    user_id IN (
        SELECT id FROM users WHERE auth_id = auth.uid()
    )
);

-- =====================================================
-- 15. HELPER FUNCTIONS
-- =====================================================

-- Generate order number
CREATE OR REPLACE FUNCTION generate_order_number()
RETURNS TEXT AS $$
DECLARE
    prefix TEXT;
    next_num INTEGER;
    new_number TEXT;
BEGIN
    SELECT value INTO prefix FROM settings WHERE key = 'order_prefix';
    SELECT value::INTEGER INTO next_num FROM settings WHERE key = 'order_next_number';
    
    new_number := prefix || '-' || LPAD(next_num::TEXT, 6, '0');
    
    UPDATE settings SET value = (next_num + 1)::TEXT WHERE key = 'order_next_number';
    
    RETURN new_number;
END;
$$ LANGUAGE plpgsql;

-- Generate invoice number
CREATE OR REPLACE FUNCTION generate_invoice_number()
RETURNS TEXT AS $$
DECLARE
    prefix TEXT;
    next_num INTEGER;
    new_number TEXT;
BEGIN
    SELECT value INTO prefix FROM settings WHERE key = 'invoice_prefix';
    SELECT value::INTEGER INTO next_num FROM settings WHERE key = 'invoice_next_number';
    
    new_number := prefix || '-' || TO_CHAR(NOW(), 'YYYYMM') || '-' || LPAD(next_num::TEXT, 4, '0');
    
    UPDATE settings SET value = (next_num + 1)::TEXT WHERE key = 'invoice_next_number';
    
    RETURN new_number;
END;
$$ LANGUAGE plpgsql;

-- Update updated_at timestamp
CREATE OR REPLACE FUNCTION update_updated_at()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- Apply updated_at trigger to relevant tables
CREATE TRIGGER update_users_updated_at BEFORE UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION update_updated_at();

CREATE TRIGGER update_dealers_updated_at BEFORE UPDATE ON dealers
FOR EACH ROW EXECUTE FUNCTION update_updated_at();

CREATE TRIGGER update_products_updated_at BEFORE UPDATE ON products
FOR EACH ROW EXECUTE FUNCTION update_updated_at();

CREATE TRIGGER update_orders_updated_at BEFORE UPDATE ON orders
FOR EACH ROW EXECUTE FUNCTION update_updated_at();
ğŸ“… PART 4: IMPLEMENTATION PLAN
4.1 Sprint Overview
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           SPRINT OVERVIEW                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  Total Duration: 12-16 Weeks (3-4 Months)                                           â”‚
â”‚  Sprint Length: 2 Weeks                                                             â”‚
â”‚  Total Sprints: 6-8 Sprints                                                         â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PHASE 1: Foundation (Week 1-4)                                              â”‚   â”‚
â”‚  â”‚ Sprint 1: Project Setup + Database + Auth                                   â”‚   â”‚
â”‚  â”‚ Sprint 2: Core User Management + RBAC                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                           â”‚                                         â”‚
â”‚                                           â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PHASE 2: Core Modules (Week 5-8)                                            â”‚   â”‚
â”‚  â”‚ Sprint 3: Dealer Management + Subscription                                  â”‚   â”‚
â”‚  â”‚ Sprint 4: Product Management + Catalog                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                           â”‚                                         â”‚
â”‚                                           â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PHASE 3: Orders & Payments (Week 9-12)                                      â”‚   â”‚
â”‚  â”‚ Sprint 5: Order System                                                      â”‚   â”‚
â”‚  â”‚ Sprint 6: bKash Integration + Payment Flow                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                           â”‚                                         â”‚
â”‚                                           â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PHASE 4: Admin & Polish (Week 13-16)                                        â”‚   â”‚
â”‚  â”‚ Sprint 7: Super Admin Panel + Reports + Audit                               â”‚   â”‚
â”‚  â”‚ Sprint 8: Testing + Bug Fixes + Deployment                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
4.2 Detailed Sprint Breakdown
SPRINT 1: Project Setup & Foundation (Week 1-2)
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 SPRINT 1: FOUNDATION                            â”‚
â”‚                 Duration: 2 Weeks                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  GOALS:                                                         â”‚
â”‚  âœ¦ Project architecture setup                                   â”‚
â”‚  âœ¦ Database schema implementation                               â”‚
â”‚  âœ¦ Basic authentication working                                 â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  TASKS:                                                         â”‚
â”‚                                                                 â”‚
â”‚  1.1 Project Setup (Day 1-2)                                    â”‚
â”‚  â”œâ”€â”€ [ ] Initialize Next.js 14 project with TypeScript          â”‚
â”‚  â”œâ”€â”€ [ ] Configure Tailwind CSS                                 â”‚
â”‚  â”œâ”€â”€ [ ] Install and configure Shadcn/ui                        â”‚
â”‚  â”œâ”€â”€ [ ] Setup ESLint & Prettier                                â”‚
â”‚  â”œâ”€â”€ [ ] Configure path aliases                                 â”‚
â”‚  â”œâ”€â”€ [ ] Setup Git repository                                   â”‚
â”‚  â””â”€â”€ [ ] Create project folder structure                        â”‚
â”‚                                                                 â”‚
â”‚  1.2 Supabase Setup (Day 2-3)                                   â”‚
â”‚  â”œâ”€â”€ [ ] Create Supabase project                                â”‚
â”‚  â”œâ”€â”€ [ ] Configure environment variables                        â”‚
â”‚  â”œâ”€â”€ [ ] Setup Supabase client                                  â”‚
â”‚  â”œâ”€â”€ [ ] Configure Supabase Auth                                â”‚
â”‚  â””â”€â”€ [ ] 